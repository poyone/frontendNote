由于纯函数的理念，react推荐你当state为对象的时候，使用copy的方式来复制一个新的对象，对新对象进行增删修改

有如下三种
1. `[...arrState]`浅复制
2. `lodash.deepClone`复制
3. `window.structuredClone`
4. react推荐的`immer`

另外对于数组的一些方法，需要记住==方法的返回值==，以及是否是==原地修改==

1. 最常使用的就是`map`和`filter`

| 操作类型 | 避免使用（会改变原始数组）           | 推荐使用（会返回一个新数组）        | 例子                                                            |
| ---- | :---------------------- | :-------------------- | :------------------------------------------------------------ |
| 添加元素 | push，unshift            | concat，\[...arr] 展开语法 | `[1, 2].concat(3)`<br>`[...[1, 2], 3]`                        |
| 删除元素 | pop，shift，splice        | filter，slice          | `[1, 2, 3].filter((_, i) => i !== 1)`<br>`[1, 2, 3].slice(1)` |
| 替换元素 | splice，arr\[i] = ... 赋值 | map                   | `[1, 2, 3].map((v, i) => i === 1 ? 4 : v)`                    |
| 排序   | reverse，sort            | 先将数组复制一份              | `[...[1, 3, 2]].sort()`<br>`[...[3, 2, 1]].reverse()`         |
